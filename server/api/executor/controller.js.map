{"version":3,"sources":["../../../../server/api/executor/controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;sBAEC,QAAQ;;;;AACtB,IAAI,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AACzC,IAAI,mBAAmB,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;;AAEzD,IAAI,KAAK,GAAG,EAAE,CAAC;AACf,SAAS,iBAAiB,CAAC,GAAG,EAAE,UAAU,EAAE;AAC1C,YAAU,GAAG,UAAU,IAAI,GAAG,CAAC;AAC/B,SAAO,UAAS,MAAM,EAAE;AACtB,QAAI,MAAM,EAAE;AACV,SAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACrC;GACF,CAAC;CACH;;;;;;;;;;;;;;;;;;;;;AAqBM,SAAS,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;AACvC,mBAAiB,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;CACnC;;AAEM,SAAS,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE;AAAE,SAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACtD,MAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI;MACxB,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;;AAEzB,MAAI,MAAM,GAAG;AACT,OAAG,EAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;AAC5B,YAAQ,EAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAC,CAAC;AAC5D,eAAW,EAAC,GAAG,CAAC,IAAI,CAAC,WAAW;AAChC,eAAW,EAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAC,CAAC;GAC1E,CAAC;AACF,SAAO,CAAC,GAAG,CAAC,eAAe,EAAC,IAAI,EAAC,MAAM,CAAC,CAAC;AACzC,SAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACtB,MAAG,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC;AACZ,SAAK,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;GAC/B;AACD,SAAO,CAAC,GAAG,CAAC,IAAI,EAAC,MAAM,EAAC,MAAM,CAAC,CAAC;AAChC,MAAI,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;AAC/C,mBAAiB,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC;CAE5C","file":"controller.js","sourcesContent":["'use strict';\n\nimport _ from 'lodash';\nvar Slot_Server = require('Slot_Server');\nvar JackOrBetter_Server = require('JackOrBetter_Server');\n\nvar cache = {}; \nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if (entity) {\n      res.status(statusCode).json(entity);\n    }\n  };\n}\n\n\n/*\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n*/\nexport function getCachedGames(req, res) {\n  respondWithResult(res,200)(cache);  \n}\n\nexport function execute(req, res) { console.log(req.body);\n    var game = req.body.game,\n    action = req.body.action;\n   \n    var params = {\n        bet:parseFloat(req.body.bet),\n        betLevel:req.body.betLevel ? parseFloat(req.body.betLevel):0,\n        holdedCards:req.body.holdedCards,\n        betLevelIdx : req.body.betLevelIdx ? parseFloat(req.body.betLevelIdx):0\n    };\n    console.log(\"GEE : execute\",game,action);\n    console.log(req.body);\n    if(!cache[game]){\n        cache[game] = require(game); \n    }\n    console.log(game,action,params);\n    var gameResponse = cache[game][action](params);\n    respondWithResult(res,200)(gameResponse);  \n  \n}\n\n"]}